<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/static/img/favicons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/static/img/favicons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title>
    <meta name="author" content="cryptoanarchy.wiki" />
    <meta name="description" content="8837284cb46c26100dc138a7c54c107cc01f193c08ff4c10e7df44de1a8ff59b" />
    <meta name="keywords" content="8837284cb46c26100dc138a7c54c107cc01f193c08ff4c10e7df44de1a8ff59b, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
    <meta content="" property="fb:app_id">
    <meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name">

    

    
      <meta content="8837284cb46c26100dc138a7c54c107cc01f193c08ff4c10e7df44de1a8ff59b" property="og:title">
      <meta content="article" property="og:type">
    

    
      <meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description">
    

    
      <meta content="http://localhost:4000/archive/1995/07/8837284cb46c26100dc138a7c54c107cc01f193c08ff4c10e7df44de1a8ff59b/" property="og:url">
    

    
      <meta content="2018-06-20T21:43:48+02:00" property="article:published_time">
      <meta content="http://localhost:4000/about/" property="article:author">
    

    
      <meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image">
    

    
      
    

    
      
    

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@_cryptoanarchy">
    <meta name="twitter:creator" content="@_cryptoanarchy">

    
      <meta name="twitter:title" content="8837284cb46c26100dc138a7c54c107cc01f193c08ff4c10e7df44de1a8ff59b">
    

    
      <meta name="twitter:url" content="http://localhost:4000/archive/1995/07/8837284cb46c26100dc138a7c54c107cc01f193c08ff4c10e7df44de1a8ff59b/">
    

    
      <meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!">
    

    

    <!-- Font awesome icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/static/css/syntax.css">
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/super-search.css">
    <link rel="stylesheet" href="/static/css/thickbox.css">
    <link rel="stylesheet" href="/static/css/projects.css">
    <link rel="stylesheet" href="/static/css/main.css">

    
  </head>
  <body>
    <div class="container">
      <div class="col-sm-3">
        <div class="fixed-condition">
          <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a>
          <h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1>
          
            <div class="profile-about">
              Arise, you have nothing to lose but your barbed wire fences!
            </div>
          
          <div class="social">
            <ul>
              
                <li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a></li>
              
                <li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a></li>
              
                <li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></li>
              
            </ul>
          </div>
          <hr />
          <ul class="sidebar-nav">
            <strong>Navigation</strong>
            <li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a></li>
            <li><a href="/">Archive Home</a></li>
          </ul>
          <hr>
          <ul class="sidebar-nav">
            <strong>Similar Resources</strong>
            
              <li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a></li>
            
              <li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a></li>
            
              <li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></li>
            
          </ul>
        </div>
        <!-- end /.fixed-condition -->
      </div>
      <div class="col-sm-8 col-offset-1 main-layout">
        <h1 id="1995-07-27---re-encrypting-block-driver-for-linuxneed-some-advice">1995-07-27 - Re: Encrypting block driver for Linux…need some advice</h1>

<h2 id="header-data">Header Data</h2>

<p>From: Johnathan Corgan &lt;jcorgan@aeinet.com&gt;<br />
To: Tatu Ylonen &lt;ylo@cs.hut.fi&gt;<br />
Message Hash: 8837284cb46c26100dc138a7c54c107cc01f193c08ff4c10e7df44de1a8ff59b<br />
Message ID: &lt;Pine.LNX.3.91.950727090405.104B-100000@comet.aeinet.com&gt;<br />
Reply To: &lt;199507261756.UAA13722@shadows.cs.hut.fi&gt;<br />
UTC Datetime: 1995-07-27 16:20:10 UTC<br />
Raw Date: Thu, 27 Jul 95 09:20:10 PDT<br /></p>

<h2 id="raw-message">Raw message</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: Johnathan Corgan &lt;jcorgan@aeinet.com&gt;
Date: Thu, 27 Jul 95 09:20:10 PDT
To: Tatu Ylonen &lt;ylo@cs.hut.fi&gt;
Subject: Re: Encrypting block driver for Linux...need some advice
In-Reply-To: &lt;199507261756.UAA13722@shadows.cs.hut.fi&gt;
Message-ID: &lt;Pine.LNX.3.91.950727090405.104B-100000@comet.aeinet.com&gt;
MIME-Version: 1.0
Content-Type: text/plain


-----BEGIN PGP SIGNED MESSAGE-----

On Wed, 26 Jul 1995, Tatu Ylonen wrote:

&gt; How about using the md5 hash of the block number combined with some
&gt; secret data; e.g, the md5 hash of the passphrase reversed (I would not
&gt; want to use the password directly, as that might help in breaking the
&gt; key; on the other hand, md5 of block number alone is not good because
&gt; there is a very limited number of blocks (and the attacker knows which
&gt; block is being attacked)).

I guess my question is how does knowing the IV affect the security of CBC? 
I assumed that it only needed to be different for each block so that
identical plaintext encrypts to different ciphertext for different blocks.

&gt; You might also want to support other algorithms, particularly IDEA
&gt; (but beware, IDEA is patented and causes problems for commercial use -
&gt; non-commercial use should be free).  Another algorithm to support
&gt; might be Blowfish.

Yes, I plan on it.  Originally, I just grabbed RSAREF for a quick and dirty
drop in.

&gt; Could you describe the implementation a little?  Does it use the nfs
&gt; interface, or is it somewhere in the kernel file system code?  Or
&gt; kernel block device code?  (User-level NFS servers may involve
&gt; difficult security issues)

The software is a block device driver.  To use it, a user will run an
executable that will pass a filespec and key to the driver.  The driver then
translates calls to its block interface into calls to lseek/read/write on
the underlying inode.  Data is d(e)ncrypted on the fly during this process.

The user can then do anything you would normally do with a block
device--make a file system on it, tar files to it, use it for swap.  If the
provided filespec is actually located remotely, and is accessed via NFS,
SMB, or some other network protocol, then the benefit is that only
ciphertext is passed on the wire.

I'm stuck on figuring the the proper permissions for the device special
file, the attachment executable, and how to deal with one user attaching the
filespec to the driver, but allowing some predefined user list have access. 
All potential users of the driver need to have rw permission to it, but in
practice, the kernel module should only honor block read/write calls make by
authorized user processes.

I guess I need to step back and look a what types of threat models I should
address, and go from there.  That, and get a good book on Unix security :)

==
Johnathan Corgan       "For the first time in history, it is possible to
jcorgan@aeinet.com      have absolute privacy over arbitrary distances."
PGP Key Fingerprint:    4F 28 69 B8 76 2E 42 3E  8B 4C 12 BB 3A 43 D4 07


-----BEGIN PGP SIGNATURE-----
Version: 2.6.2

iQEVAwUBMBfKaelPfVlQ1n99AQF7+gf+I+BV1EVPQhrT7FEygT7f8PC29kZuSseU
/qDlVbBrwHfzXOMgEBEkG214p9Xv1cPFQ+IlGglo321/92pxZdModA45oM3cG1ic
hv8oZ+KWIL6twhKX7M3aw5tYOBTTGcdyNqEosnntE1/eAnSEPaQgt8VLyoNBjSFN
64FZvTtR7G8O2HL26SYS1PzhEl3aPRdKv3Qw+kgu1xW+VLC5DcJs34/f1Nta6xBu
gFH9mfZZg4Y4VAMMyvQN+JAm7EmmIiCWAypqnwUt0SCgnpYub2EOfoKQOJ7e5hl5
9qcaLzeJsHpLGybcfT6cSEKjJ+b9MdTXrHQRPPdr2ZehcmyVSSLA7A==
=G47N
-----END PGP SIGNATURE-----





</code></pre></div></div>

<h2 id="thread">Thread</h2>

<ul>
  <li>
    <p>Return to <a href="/archive/1995/07">July 1995</a></p>
  </li>
  <li>
    <p>1995-07-27 (Thu, 27 Jul 95 09:20:10 PDT) - Re: Encrypting block driver for Linux…need some advice - <em>Johnathan Corgan &lt;jcorgan@aeinet.com&gt;</em></p>
  </li>
</ul>


        <footer>
          
            - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a>
          
        </footer>
      </div>
      <!-- end /.col-sm-8 -->
    </div>
    <!-- end /.container -->

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/super-search.js"></script>
    <script src="/static/js/thickbox-compressed.js"></script>
    <script src="/static/js/projects.js"></script>
  </body>
</html>

